#!/bin/bash
source helpers

cd etc
symlink_if_not_exists .bash_profile
symlink_if_not_exists .gitconfig
cd ..

echo "Installing vim stuff..."
brew install vim --with-override-system-vi
mkdir -p .vim/autoload .vim/bundle

curl -LSso .vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim

cd ./.vim/bundle
clone_if_not_exists git://github.com/tpope/vim-fugitive.git vim-fugitive.git
vim -u NONE -c "helptags vim-fugitive/doc" -c q

# Colors
clone_if_not_exists https://github.com/albertorestifo/github.vim.git github.vim
clone_if_not_exists https://github.com/morhetz/gruvbox.git gruvbox

clone_if_not_exists https://github.com/scrooloose/nerdtree.git nerdtree.git
clone_if_not_exists https://github.com/vim-utils/vim-ruby-fold vim-ruby-fold
clone_if_not_exists https://github.com/bling/vim-airline vim-airline
clone_if_not_exists https://github.com/vim-airline/vim-airline-themes vim-airline-themes
clone_if_not_exists https://github.com/kien/ctrlp.vim.git ctrlp.vim
clone_if_not_exists https://github.com/tpope/vim-haml.git vim-haml
clone_if_not_exists https://github.com/kchmck/vim-coffee-script.git coffee-script.git
clone_if_not_exists https://github.com/ervandew/supertab.git supertab.git
cd ../../

if test -e ~/.vim; then
  echo ".vim already symlinked. Skipping for now"
else
  ln -s "$(pwd)/.vim" ~
  echo ".vim symlinked to ~/.vim"
fi
